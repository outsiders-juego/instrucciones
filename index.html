<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secciones Desplegables</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: white;
            text-align: center;
        }
        .section {
            margin: 20px auto;
            width: 80%;
            border: 1px solid #444;
            border-radius: 5px;
            padding: 10px;
            background-color: #222;
        }
        .title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            padding: 10px;
        }
        .title:hover {
            background-color: #333;
        }
        .content {
            display: none;
            padding: 10px;
            border-top: 1px solid #444;
        }
        .arrow {
            transition: transform 0.3s;
        }
        .expanded .arrow {
            transform: rotate(180deg);
        }
        .timer {
            font-size: 2em;
            margin: 10px 0;
        }
        .buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
        }
        .button {
            background-color: #444;
            border: none;
            color: white;
            font-size: 1.5em;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
        }
        .button:hover {
            background-color: #666;
        }
    
        .switch {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 100%;
            margin: 10px 0;
            font-size: 1.2em;
            gap: 10px;
        }
        .switch input {
            display: none;
        }
        .slider {
            position: relative;
            width: 50px;
            height: 24px;
            background-color: #444;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .slider:before {
            content: "";
            position: absolute;
            width: 20px;
            height: 20px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        input#Agentes:checked + .slider { background-color: blue; }
        input#Aliens:checked + .slider { background-color: red; }
        input#AlienCiego:checked + .slider { background-color: red; }
        input#AlienMadre:checked + .slider { background-color: red; }
        input#AlienSuicida:checked + .slider { background-color: green; }
        input#AlienVisor:checked + .slider { background-color: red; }
        input#Analista:checked + .slider { background-color: blue; }
        input#Asesino:checked + .slider { background-color: green; }
        
        input#Marte:checked + .slider { background-color: red; }

        input:checked + .slider:before {
            transform: translateX(26px);
        }
    
        .switch {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 100%;
            margin: 10px 0;
            font-size: 1.2em;
            gap: 10px;
        }
        .switch input {
            display: none;
        }
        .slider {
            position: relative;
            width: 50px;
            height: 24px;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .slider:before {
            content: "";
            position: absolute;
            width: 20px;
            height: 20px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .sub-title:hover {
            background-color: #444;
        }
        .sub-content {
            display: none;
            padding: 10px;
            border-top: 1px solid #555;
        }
        .sub-title .arrow {
            transition: transform 0.3s;
        }
        .sub-title.expanded .arrow {
            transform: rotate(180deg);
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="title" onclick="toggleSection(this)">Instrucciones <span class="arrow">▼</span>
        </div>
        <div class="content">
            <p>Un grupo de astronautas se embarca en una misión importante, y se criogenizan hasta llegar a destino.</p>
            <p>Al despertar del criosueño, descubren que no todos en la nave son quienes aparentan ser.</p>
            <p style="color: #ff6666; font-weight: bold;">Alienígenas mortales se han infiltrado en la tripulación.</p>
            <p>Eliminarlos es crucial para la supervivencia.</p>
            <h3 class="sub-title" onclick="toggleSubSection(this)">Preparación <span class="arrow">▼</span></h3>
            <div class="sub-content">
                <p>Un jugador tomará el rol de Director, y será quien ordene el juego para el resto de jugadores. Si nadie se ofrece a ser el Director, se coloca una carta de Director en el mazo.</p>
                <p>Todos los jugadores se sientan en una ronda. Se reparte una carta de rol para cada jugador, y se colocan tres cartas adicionales en el centro de la ronda (se acomoda el mazo para que la carta de Director no pueda quedar en el centro).</p>
            </div>
            <h3 class="sub-title" onclick="toggleSubSection(this)">Desarrollo del juego <span class="arrow">▼</span></h3>
            <div class="sub-content">
                <p>Explicación sobre cómo se desarrolla el juego.</p>
            </div>
        </div>
    </div>
    <div class="section">
        <div class="title" onclick="toggleSection(this)">Roles <span class="arrow">▼</span>
        </div>
        <div class="content">
            <ul id="roles-list" style="list-style: none; padding: 0;">
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="Agentes"><span class="slider"></span> Agentes</label></li>
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="Aliens"><span class="slider"></span> Aliens</label></li>
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="AlienCiego"><span class="slider"></span> Alien ciego</label></li>
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="AlienMadre"><span class="slider"></span> Alien madre</label></li>
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="AlienSuicida"><span class="slider"></span> Alien suicida</label></li>
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="AlienVisor"><span class="slider"></span> Alien visor</label></li>
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="Analista"><span class="slider"></span> Analista</label></li>
                <li><label class="switch"><input type="checkbox" onclick="updateRoles()" id="Asesino"><span class="slider"></span> Asesino</label></li>
            </ul>
        </div>
        </div>
    <div class="section">
        <div class="title" onclick="toggleSection(this)">Eventos <span class="arrow">▼</span>
        </div>
        <div class="content">
            <ul id="events-list" style="list-style: none; padding: 0;">
                <li><label class="switch"><input type="checkbox" onclick="updateEvents()" id="Marte"><span class="slider"></span> Marte</label></li>
            </ul>
        </div>
    </div>
    <div class="section">
        <div class="title" onclick="toggleSection(this)">Jugar <span class="arrow">▼</span>
        </div>
        <div class="content">
            <div id="active-roles"></div>
            <div id="AlienMadre-message3" style="display: none; border: 2px solid red; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>Se coloca una carta adicional en el centro, perpendicular al resto.</p>
                <p>Debe ser una carta de alien.</p>
            </div>
            <div style="display: block; border: 2px solid white; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>Todos cierran los ojos.</p>
            </div>
            <div id="Aliens-message" style="display: none; border: 2px solid red; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>Los aliens abren los ojos.</p>
                <p id="AlienMadre-message" style="display: none; margin-top: 5px; color: red;">(Alien madre también abre los ojos)</p>
                <p id="AlienVisor-message" style="display: none; margin-top: 5px; color: red;">(El alien Visor también abre los ojos)</p>
                <p id="AlienSuicida-message" style="display: none; margin-top: 5px; color: green;">(El alien suicida también abre los ojos)</p>
                <p>Los aliens se miran entre sí y se reconocen.</p>
                <p id="AlienCiego-message" style="display: none; margin-top: 5px; color: red;">El alien ciego levanta la mano.</p>
                <p id="Marte-message" style="display: none; margin-top: 5px; color: red;">Los aliens señalan a un jugador, que morirá a los 3 minutos de discusión.</p>
                <p>Los aliens cierran los ojos.</p>
            </div>
            <div id="AlienMadre-message2" style="display: none; border: 2px solid red; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>Alien madre abre los ojos.</p>
                <p>Señala un jugador para intercambiar su carta con la carta de alien cientral.</p>
                <p>Alien madre cierra los ojos.</p>
            </div>
            <div id="AlienVisor-message2" style="display: none; border: 2px solid red; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>El alien visor abre los ojos.</p>
                <p>Señala cualquier carta para verla.</p>
                <p>El alien visor cierra los ojos.</p>
            </div>
            <div id="Analista-message" style="display: none; border: 2px solid blue; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>El analista abre los ojos.</p>
                <p>El analista señala a dos jugadores.</p>
                <p>El director ve las cartas de los dos jugadores.</p>
                <p>Si ambas cartas son del mismo color el director hace un gesto afirmativo. Si no, uno negativo.</p>
                <p>El analista cierra los ojos.</p>
            </div>
            <div id="Asesino-message" style="display: none; border: 2px solid green; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>El asesino abre los ojos.</p>
                <p>El asesino señala a un jugador y el director le muestra su carta.</p>
                <p>El asesino gana solo si esa carta muere.</p>
                <p>El asesino cierra los ojos.</p>
            </div>
            <div id="Agentes-message" style="display: none; border: 2px solid blue; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>Los agentes abren los ojos.</p>
                <p>Los agentes se miran entre sí y se reconocen.</p>
                <p>Los agentes cierran los ojos.</p>
            </div>
            <div style="display: block; border: 2px solid white; border-radius: 10px; padding: 20px; margin-bottom: 15px; background-color: #222;">
                <p>Todos abren los ojos.</p>
            </div>
            <div class="timer" id="timer">00:00.00</div>
            <div class="buttons" id="buttons">
                <button class="button" onclick="startTimer()">▶</button>
            </div>
        </div>
    </div>
    <script>
        function toggleSection(element) {
            let content = element.nextElementSibling;
            let parent = element.parentElement;
            let isOpen = content.style.display === "block";
            content.style.display = isOpen ? "none" : "block";
            parent.classList.toggle("expanded", !isOpen);
        }

        let timerInterval;
        let startTime;
        let elapsedTime = 0;
        let running = false;

        function startTimer() {
            if (!running) {
                startTime = Date.now() - elapsedTime;
                timerInterval = setInterval(updateTimer, 10);
                running = true;
                document.getElementById("buttons").innerHTML = `
                    <button class="button" onclick="pauseTimer()">❚❚</button>
                    <button class="button" onclick="resetTimer()">⟲</button>
                `;
            }
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            running = false;
            document.getElementById("buttons").innerHTML = `
                <button class="button" onclick="startTimer()">▶</button>
                <button class="button" onclick="resetTimer()">⟲</button>
            `;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            running = false;
            elapsedTime = 0;
            document.getElementById("timer").textContent = "00:00.00";
            document.getElementById("buttons").innerHTML = `
                <button class="button" onclick="startTimer()">▶</button>
            `;
        }

        function updateTimer() {
            elapsedTime = Date.now() - startTime;
            let totalSeconds = elapsedTime / 1000;
            let minutes = Math.floor(totalSeconds / 60);
            let seconds = Math.floor(totalSeconds % 60);
            let hundredths = Math.floor((totalSeconds * 100) % 100);
            document.getElementById("timer").textContent = 
                `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}.${String(hundredths).padStart(2, '0')}`;
        }

    
        function toggleSubSection(element) {
            let content = element.nextElementSibling;
            let isOpen = content.style.display === "block";
            content.style.display = isOpen ? "none" : "block";
            element.classList.toggle("expanded", !isOpen);
        }
    
        function updateRoles() {
            let roleIds = ["Aliens", "Agentes", "AlienCiego", "AlienMadre", "AlienMadre2","AlienSuicida","AlienVisor", "AlienVisor2","Analista","Asesino"];
            roleIds.forEach(role => {
                let checkbox = document.getElementById(role);
                let messageBox = document.getElementById(role + "-message");
                if (checkbox && messageBox) {
                    messageBox.style.display = checkbox.checked ? "block" : "none";
                }
                messageBox = document.getElementById(role + "-message2");
                if (checkbox && messageBox) {
                    messageBox.style.display = checkbox.checked ? "block" : "none";
                }
                messageBox = document.getElementById(role + "-message3");
                if (checkbox && messageBox) {
                    messageBox.style.display = checkbox.checked ? "block" : "none";
                }
            });
           }
    
        function updateEvents() {
            let eventIds = ["Marte"];
            eventIds.forEach(event => {
                let checkbox = document.getElementById(event);
                let messageBox = document.getElementById(event + "-message");
                if (checkbox && messageBox) {
                    messageBox.style.display = checkbox.checked ? "block" : "none";
                }
            });
        }
    </script>
</body>
</html>
